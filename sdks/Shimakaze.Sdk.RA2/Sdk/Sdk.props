<?xml version="1.0" encoding="UTF-8"?>
<Project
  ToolsVersion="4.0"
  DefaultTargets="Build"
  xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <PropertyGroup>
    <ShimakazeSdkPath>$(MSBuildThisFileDirectory)..\</ShimakazeSdkPath>
    <BaseOutputPath>$(MSBuildProjectDirectory)\bin\</BaseOutputPath>
    <BaseIntermediateOutputPath>$(MSBuildProjectDirectory)\obj\</BaseIntermediateOutputPath>

    <Configuration Condition=" '$(Configuration)' == ''">Debug</Configuration>
    <OutputPath>$(BaseOutputPath)$(Configuration)\</OutputPath>
    <IntermediateOutputPath>$(BaseIntermediateOutputPath)$(Configuration)\</IntermediateOutputPath>

    <CsfFileName>ra2md.csf</CsfFileName>
    <RulesIniFileName>rulesmd.ini</RulesIniFileName>
    <ArtIniFileName>artmd.ini</ArtIniFileName>
    <MixFileName>expandmd01.mix</MixFileName>

    <Defines Condition=" '$(Configuration)' == 'Debug'">DEBUG;$(Defines)</Defines>
    <Defines Condition=" '$(Configuration)' == 'Release'">RELEASE;$(Defines)</Defines>
    <__GlobalIgnore>$(MSBuildProjectDirectory)\bin\**\*;$(MSBuildProjectDirectory)\obj\**\*</__GlobalIgnore>
  </PropertyGroup>

  <ItemGroup>
    <IniFile Exclude="$(__GlobalIgnore)" Include="$(MSBuildProjectDirectory)\**\*.rule" Tag="Rule" />
    <IniFile Exclude="$(__GlobalIgnore)" Include="$(MSBuildProjectDirectory)\**\*.art" Tag="Art" />
    <CsfFile Exclude="$(__GlobalIgnore)" Include="$(MSBuildProjectDirectory)\**\*.csf" Tag="Csf" />
    <CsfFile Exclude="$(__GlobalIgnore)" Include="$(MSBuildProjectDirectory)\**\*.csf.json" Tag="Json" />
    <CsfFile Exclude="$(__GlobalIgnore)" Include="$(MSBuildProjectDirectory)\**\*.csf.v1.json" Tag="JsonV1" />
    <CsfFile Exclude="$(__GlobalIgnore)" Include="$(MSBuildProjectDirectory)\**\*.csf.v2.json" Tag="JsonV2" />
    <CsfFile Exclude="$(__GlobalIgnore)" Include="$(MSBuildProjectDirectory)\**\*.csf.xml" Tag="Xml" />
    <CsfFile Exclude="$(__GlobalIgnore)" Include="$(MSBuildProjectDirectory)\**\*.csf.v1.xml" Tag="XmlV1" />
    <CsfFile Exclude="$(__GlobalIgnore)" Include="$(MSBuildProjectDirectory)\**\*.csf.yaml" Tag="Yaml" />
    <CsfFile Exclude="$(__GlobalIgnore)" Include="$(MSBuildProjectDirectory)\**\*.csf.yml" Tag="Yaml" />
    <CsfFile Exclude="$(__GlobalIgnore)" Include="$(MSBuildProjectDirectory)\**\*.csf.v1.yaml" Tag="YamlV1" />
    <CsfFile Exclude="$(__GlobalIgnore)" Include="$(MSBuildProjectDirectory)\**\*.csf.v1.yml" Tag="YamlV1" />
    <None Exclude="$(__GlobalIgnore);$(MSBuildProjectFile);@(CsfFile);@(IniFile)" Include="$(MSBuildProjectDirectory)\**\*" Pack="True" />
  </ItemGroup>

  <UsingTask TaskName="Shimakaze.Sdk.Build.CsfBuilder" AssemblyFile="$(ShimakazeSdkPath)lib\Shimakaze.Sdk.Build.dll" />
  <UsingTask TaskName="Shimakaze.Sdk.Build.CsfMerger" AssemblyFile="$(ShimakazeSdkPath)lib\Shimakaze.Sdk.Build.dll" />
  <UsingTask TaskName="Shimakaze.Sdk.Build.IniMerger" AssemblyFile="$(ShimakazeSdkPath)lib\Shimakaze.Sdk.Build.dll" />
  <UsingTask TaskName="Shimakaze.Sdk.Build.IniPreprocessor" AssemblyFile="$(ShimakazeSdkPath)lib\Shimakaze.Sdk.Build.dll" />
  <UsingTask TaskName="Shimakaze.Sdk.Build.MixPacker" AssemblyFile="$(ShimakazeSdkPath)lib\Shimakaze.Sdk.Build.dll" />

</Project>